---
layout: post
title: WSL中配置Ubuntu 24.04
slug: ubuntu-24.04-wsl-configuration
categories: [环境配置, Linux]
tags: [Ubuntu, WSL]
---

## WSL

前置条件
+ 开启BIOS虚拟化
+ 可选功能中开启Hyper-V和WSL
+ powershell管理员模式下执行`bcdedit /set hypervisorlaunchtype auto`

```bash
wsl --set-default-version 2
wsl --update
wsl --list --online
wsl --install -d Ubuntu-24.04
```

## 设置root密码
```bash
sudo passwd
```

## 设置sudo免输密码
```bash
# 使用root账户登录
passwd jack
chmod u+w /etc/sudoers
echo "jack ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
chmod u-w /etc/sudoers
```

## 替换apt源
```bash
# 备份
cd /etc/apt/sources.list.d
sudo cp ubuntu.sources ubuntu.sources.bak

# 修改ubuntu.sources
Types: deb
URIs: http://mirrors.aliyun.com/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

# 更新
sudo apt update
sudo apt upgrade
```

## 生成ssh-key
```bash
ssh-keygen
```

## git配置
```bash
git config --global user.name "username"
git config --global user.email "email"
```

## 安装apt包
```bash
sudo apt install build-essential cmake gdb pkg-config python3 python3-pip
sudo apt install vim cloc tree zip neofetch net-tools
```

## 安装pip包
```bash
# 24.04不需要了 推荐使用conda，venv
# pip config set install.trusted-host pypi.tuna.tsinghua.edu.cn
# pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
sudo apt install python3-numpy python3-pandas python3-matplotlib python3-plotly python3-ipykernel python3-notebook
```
